{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\guigu\\\\Documents\\\\ifcm\\\\IFCM2\\\\IFCM\\\\Nouveau dossier\\\\src\\\\index.tsx\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport Keycloak from 'keycloak-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet keycloak = Keycloak('./keycloack.json');\nkeycloak.init({\n  onLoad: 'login-required'\n}).success(auth => {\n  if (!auth) {\n    window.location.reload();\n  } else {\n    console.info(\"Authenticated\");\n  } //React Render\n\n\n  ReactDOM.render( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 21\n  }, this), document.getElementById('root'));\n  localStorage.setItem(\"react-token\", keycloak.token);\n  localStorage.setItem(\"react-refresh-token\", keycloak.refreshToken);\n  localStorage.setItem(\"user\", keycloak.subject);\n  setTimeout(() => {\n    keycloak.updateToken(70).success(refreshed => {\n      if (refreshed) {\n        console.debug('Token refreshed' + refreshed);\n      } else {\n        console.warn('Token not refreshed, valid for ' + Math.round(keycloak.tokenParsed.exp + keycloak.timeSkew - new Date().getTime() / 1000) + ' seconds');\n      }\n    }).error(() => {\n      console.error('Failed to refresh token');\n    });\n  }, 60000);\n}).error(() => {\n  console.error(\"Authenticated Failed\");\n});\n/*\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n*/","map":{"version":3,"sources":["C:/Users/guigu/Documents/ifcm/IFCM2/IFCM/Nouveau dossier/src/index.tsx"],"names":["React","ReactDOM","App","Keycloak","keycloak","init","onLoad","success","auth","window","location","reload","console","info","render","document","getElementById","localStorage","setItem","token","refreshToken","subject","setTimeout","updateToken","refreshed","debug","warn","Math","round","tokenParsed","exp","timeSkew","Date","getTime","error"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AAGA,OAAOC,QAAP,MAA0C,aAA1C;;AAGA,IAAIC,QAAQ,GAAGD,QAAQ,CAAC,kBAAD,CAAvB;AAEAC,QAAQ,CAACC,IAAT,CAAc;AAAEC,EAAAA,MAAM,EAAC;AAAT,CAAd,EAA2CC,OAA3C,CAAoDC,IAAD,IAAU;AAGzD,MAAI,CAACA,IAAL,EAAW;AACPC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAFD,MAEO;AACHC,IAAAA,OAAO,CAACC,IAAR,CAAa,eAAb;AACH,GAPwD,CASzD;;;AACAZ,EAAAA,QAAQ,CAACa,MAAT,eAAgB,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,UAAhB,EAAyBC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAzB;AAEAC,EAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCd,QAAQ,CAACe,KAA7C;AACAF,EAAAA,YAAY,CAACC,OAAb,CAAqB,qBAArB,EAA4Cd,QAAQ,CAACgB,YAArD;AACAH,EAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6Bd,QAAQ,CAACiB,OAAtC;AAEAC,EAAAA,UAAU,CAAC,MAAM;AACblB,IAAAA,QAAQ,CAACmB,WAAT,CAAqB,EAArB,EAAyBhB,OAAzB,CAAkCiB,SAAD,IAAe;AAC5C,UAAIA,SAAJ,EAAe;AACXZ,QAAAA,OAAO,CAACa,KAAR,CAAc,oBAAoBD,SAAlC;AACH,OAFD,MAEO;AACHZ,QAAAA,OAAO,CAACc,IAAR,CAAa,oCACPC,IAAI,CAACC,KAAL,CAAWxB,QAAQ,CAACyB,WAAT,CAAqBC,GAArB,GAA2B1B,QAAQ,CAAC2B,QAApC,GAA+C,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,IAAjF,CADO,GACkF,UAD/F;AAEH;AACJ,KAPD,EAOGC,KAPH,CAOS,MAAM;AACXtB,MAAAA,OAAO,CAACsB,KAAR,CAAc,yBAAd;AACH,KATD;AAYH,GAbS,EAaP,KAbO,CAAV;AAeH,CA/BD,EA+BGA,KA/BH,CA+BS,MAAM;AACXtB,EAAAA,OAAO,CAACsB,KAAR,CAAc,sBAAd;AACH,CAjCD;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport Keycloak, { KeycloakAdapter } from 'keycloak-js';\n\n\nlet keycloak = Keycloak('./keycloack.json');\n\nkeycloak.init({ onLoad:'login-required' }).success((auth) => {\n  \n\n    if (!auth) {\n        window.location.reload();\n    } else {\n        console.info(\"Authenticated\");\n    }\n\n    //React Render\n    ReactDOM.render(<App />, document.getElementById('root'));\n\n    localStorage.setItem(\"react-token\", keycloak.token);\n    localStorage.setItem(\"react-refresh-token\", keycloak.refreshToken);\n    localStorage.setItem(\"user\", keycloak.subject);\n\n    setTimeout(() => {\n        keycloak.updateToken(70).success((refreshed) => {\n            if (refreshed) {\n                console.debug('Token refreshed' + refreshed);\n            } else {\n                console.warn('Token not refreshed, valid for '\n                    + Math.round(keycloak.tokenParsed.exp + keycloak.timeSkew - new Date().getTime() / 1000) + ' seconds');\n            }\n        }).error(() => {\n            console.error('Failed to refresh token');\n        });\n\n\n    }, 60000)\n\n}).error(() => {\n    console.error(\"Authenticated Failed\");\n});\n/*\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n*/"]},"metadata":{},"sourceType":"module"}